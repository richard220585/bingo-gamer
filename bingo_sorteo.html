<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sorteo de Bingo Responsivo</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f9ff;
      margin: 0;
      padding: 20px;
      text-align: center;
    }

    h1 {
      color: #0077cc;
      font-size: 28px;
      margin-bottom: 20px;
    }

    #numero {
      font-size: 80px;
      font-weight: bold;
      color: #004a7c;
      margin: 30px 0;
    }

    button {
      padding: 15px 25px;
      margin: 10px 8px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #0077cc;
      color: white;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }

    button:hover {
      background-color: #005fa3;
    }

    #historial {
      margin-top: 40px;
    }

    #historial h2 {
      color: #333;
      font-size: 20px;
    }

    #lista {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }

    .bola {
      background-color: #e1f3ff;
      border: 2px solid #0077cc;
      border-radius: 50px;
      padding: 10px 15px;
      font-size: 18px;
      font-weight: bold;
      color: #004a7c;
    }

    #boton-jugada {
      margin-top: 30px;
    }

    @media (max-width: 600px) {
      #numero {
        font-size: 48px;
      }

      button {
        width: 90%;
        font-size: 16px;
      }

      .bola {
        font-size: 16px;
        padding: 8px 12px;
      }
    }
  </style>
</head>
<body>

  <h1>üé± Sorteo de Bingo</h1>

  <div id="numero">--</div>

  <button id="btnIniciar" onclick="iniciarSorteo()">‚ñ∂Ô∏è Iniciar sorteo</button>
  <button onclick="pausarReanudar()">‚èπÔ∏è Pausar / Reanudar</button>
  <button onclick="nuevoJuego()">üîÑ Nuevo juego</button>

  <div id="historial">
    <h2>Historial</h2>
    <div id="lista"></div>
  </div>

  <!-- Botones de jugadas -->
  <div id="boton-jugada">
    <button onclick="primeraJugada()">üéØ Primera jugada: 4 esquinas</button>
    <button onclick="juegoLetraX()">üéÆ Segunda jugada: letra X</button>
    <button onclick="juegoLetraL()">üî§ Tercera jugada: letra L</button>
    <button onclick="cuartaJugada()">üî¢ Cuarta jugada: figura personalizada</button>
    <button onclick="cruzCentral()">‚ûï Quinta jugada: cruz central</button>
    <button onclick="cartonLleno()">üß© Sexta jugada: cart√≥n lleno</button>
  </div>

  <script>
    let bolas = Array.from({ length: 75 }, (_, i) => i + 1);
    const listaDiv = document.getElementById("lista");
    const numeroDiv = document.getElementById("numero");
    let intervalo = null;
    let jugadaActual = [];
    let jugadaIndex = 0;
    let modoEspecial = false;
    let pausado = false;

    function obtenerLetra(numero) {
      if (numero <= 15) return 'B';
      if (numero <= 30) return 'I';
      if (numero <= 45) return 'N';
      if (numero <= 60) return 'G';
      return 'O';
    }

    function reproducirAudio(letra, numero) {
      const rutaAudio = `audios_bingo/${letra}_${numero}.mp3`;
      const audio = new Audio(rutaAudio);
      audio.play().catch(err => {
        console.warn("No se pudo reproducir audio:", err);
      });
    }

    function mostrarBola(numero) {
      const letra = obtenerLetra(numero);
      const texto = `${letra} ${numero}`;
      numeroDiv.textContent = texto;

      const span = document.createElement("span");
      span.className = "bola";
      span.textContent = texto;
      listaDiv.appendChild(span);

      reproducirAudio(letra, numero);
    }

    function lanzarBola() {
      if (modoEspecial) {
        if (jugadaIndex >= jugadaActual.length) {
          clearInterval(intervalo);
          intervalo = null;
          return;
        }
        const numero = jugadaActual[jugadaIndex++];
        mostrarBola(numero);
        const index = bolas.indexOf(numero);
        if (index !== -1) bolas.splice(index, 1);
      } else {
        if (bolas.length === 0) {
          numeroDiv.textContent = "‚úÖ ¬°Fin del sorteo!";
          clearInterval(intervalo);
          intervalo = null;
          return;
        }
        const index = Math.floor(Math.random() * bolas.length);
        const numero = bolas.splice(index, 1)[0];
        mostrarBola(numero);
      }
    }

    function iniciarSorteo() {
      if (!intervalo) {
        modoEspecial = false;
        lanzarBola();
        intervalo = setInterval(lanzarBola, 7000);
      }
    }

    function pausarReanudar() {
      if (intervalo) {
        clearInterval(intervalo);
        intervalo = null;
        pausado = true;
      } else if (pausado) {
        intervalo = setInterval(lanzarBola, 7000);
        pausado = false;
      }
    }

    function nuevoJuego() {
      clearInterval(intervalo);
      intervalo = null;
      bolas = Array.from({ length: 75 }, (_, i) => i + 1);
      listaDiv.innerHTML = "";
      numeroDiv.textContent = "--";
      jugadaActual = [];
      jugadaIndex = 0;
      modoEspecial = false;
      pausado = false;
    }

    function prepararJugada(lista) {
      clearInterval(intervalo);
      modoEspecial = true;
      pausado = false;
      jugadaActual = [...lista];
      jugadaActual.sort(() => Math.random() - 0.5);
      jugadaIndex = 0;
      lanzarBola();
      intervalo = setInterval(lanzarBola, 7000);
    }

    function primeraJugada() {
      prepararJugada([4, 10, 21, 33, 38, 51, 54, 61, 75]);
    }

    function juegoLetraX() {
      prepararJugada([
        1, 7, 8, 10, 13,       // B
        22, 24, 25, 26,        // I
        37, 38, 39, 41, 42,    // N
        47, 50, 55, 56, 59,    // G
        61, 63, 65, 71, 75     // O
      ]);
    }

    function juegoLetraL() {
      prepararJugada([
        1, 3, 7, 8, 14, 15,     // B
        16, 20, 22, 24,         // I
        34, 40, 42, 44,         // N
        53, 57, 60,             // G
        63, 67, 70, 74, 75      // O
      ]);
    }

    function cuartaJugada() {
      prepararJugada([
        10, 13,                 // B
        16, 21, 22, 27,         // I
        36, 37, 38, 39, 41,     // N
        47, 49, 50, 55,         // G
        70                      // O
      ]);
    }

    function cruzCentral() {
      prepararJugada([
        2, 12,                  // B
        25, 28,                 // I
        32, 34, 36, 43,         // N
        53,                     // G
        71                      // O
      ]);
    }

    function cartonLleno() {
      prepararJugada([
        // B
        2, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15,
        // I
        16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29,
        // N
        31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 44, 45,
        // G
        46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,
        // O
        61, 65, 67, 68, 69, 71, 72, 73, 74, 75
      ]);
    }
  </script>

</body>
</html>
